var h=Object.defineProperty;var p=(r,a,e)=>a in r?h(r,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[a]=e;var o=(r,a,e)=>p(r,typeof a!="symbol"?a+"":a,e);import{P as f}from"./index-Cs6O3ldV.js";class d extends f.Scene{constructor(){super("PreloadScene");o(this,"loadingBar");o(this,"progressBar")}preload(){this.createLoadingScreen(),this.load.image("player-img","player.png"),this.load.image("player","/assets/player.png"),this.load.image("town-map","/lovable-uploads/2176030f-7feb-4f01-b180-e2b5ee6f6016.png"),this.load.image("battle","/lovable-uploads/battle.png");const e=this.textures.createCanvas("player",16,32),s=e.getContext();s.fillStyle="#4a6fa5",s.fillRect(0,0,16,32),e.refresh();const i=this.textures.createCanvas("tiles",64,64),t=i.getContext();t.fillStyle="#7c9463",t.fillRect(0,0,16,16),t.fillStyle="#4a6fa5",t.fillRect(16,0,16,16),t.fillStyle="#8b4513",t.fillRect(32,0,16,16),t.fillStyle="#9c9c9c",t.fillRect(48,0,16,16),i.refresh();const n=this.textures.createCanvas("dialog-box",320,100),l=n.getContext();l.fillStyle="rgba(0, 0, 0, 0.7)",l.fillRect(0,0,320,100),l.strokeStyle="white",l.lineWidth=2,l.strokeRect(4,4,312,92),n.refresh(),this.load.on("progress",c=>{this.updateProgressBar(c)}),this.load.on("complete",()=>{console.log("Assets loaded successfully"),this.progressBar.destroy(),this.loadingBar.destroy()})}create(){this.createAnimations(),this.scene.start("WorldScene"),this.scene.launch("UIScene")}createLoadingScreen(){const e=this.cameras.main.width,s=this.cameras.main.height;this.loadingBar=this.add.graphics(),this.loadingBar.fillStyle(2236962,.8),this.loadingBar.fillRect(e/2-160,s/2-25,320,50),this.progressBar=this.add.graphics()}updateProgressBar(e){const s=this.cameras.main.width,i=this.cameras.main.height;this.progressBar.clear(),this.progressBar.fillStyle(65280,1),this.progressBar.fillRect(s/2-150,i/2-15,300*e,30)}createAnimations(){this.anims.create({key:"player-idle-down",frames:[{key:"player",frame:0}],frameRate:10,repeat:-1}),this.anims.create({key:"player-walk-down",frames:[{key:"player",frame:0}],frameRate:10,repeat:-1}),this.anims.create({key:"player-idle-up",frames:[{key:"player",frame:0}],frameRate:10,repeat:-1}),this.anims.create({key:"player-walk-up",frames:[{key:"player",frame:0}],frameRate:10,repeat:-1}),this.anims.create({key:"player-idle-left",frames:[{key:"player",frame:0}],frameRate:10,repeat:-1}),this.anims.create({key:"player-walk-left",frames:[{key:"player",frame:0}],frameRate:10,repeat:-1}),this.anims.create({key:"player-idle-right",frames:[{key:"player",frame:0}],frameRate:10,repeat:-1}),this.anims.create({key:"player-walk-right",frames:[{key:"player",frame:0}],frameRate:10,repeat:-1})}}export{d as PreloadScene};
